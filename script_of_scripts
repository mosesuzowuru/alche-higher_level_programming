#!/bin/bash

echo " Fixing failing Python tasks..."

# Fix Task 3: Print integer - needs to use :d format specifier to enforce integer type
echo "Fixing 3-print_number.py..."
cat > 3-print_number.py << 'EOF'
#!/usr/bin/python3
number = 98
print(f"{number:d} Battery street")
EOF

# Fix Task 6: Play with strings - str2 should be "Battery Street!" not "Holberton School!"
echo "Fixing 6-concat.py..."
cat > 6-concat.py << 'EOF'
#!/usr/bin/python3
str1 = "Welcome to "
str2 = "Battery Street!"
str1 = str1 + str2
print(str1)
EOF

# Fix Task 8: Create a new sentence - need correct string slicing and fix line length
echo "Fixing 8-concat_edges.py..."
cat > 8-concat_edges.py << 'EOF'
#!/usr/bin/python3
str = "Python is an interpreted, high-level, general-purpose programming language. Created by Guido van Rossum"
str = str[39:67] + str[115:119] + str[78:85] + str[106:115]
print(str)
EOF

# Make files executable
chmod +x 3-print_number.py
chmod +x 6-concat.py  
chmod +x 8-concat_edges.py

echo " Files fixed!"
echo ""
echo " Testing fixes:"

echo "Testing 3-print_number.py:"
python3 3-print_number.py

echo ""
echo "Testing 6-concat.py:"
python3 6-concat.py

echo ""
echo "Testing 8-concat_edges.py:"
python3 8-concat_edges.py

echo ""
echo " Checking line lengths for PEP8 compliance:"
echo "8-concat_edges.py line 2 length: $(sed -n '2p' 8-concat_edges.py | wc -c) characters"

echo ""
echo " All fixes applied successfully!"
echo " 3-print_number.py now uses :d format specifier (will raise ValueError for non-integers)"
echo " 6-concat.py now outputs 'Welcome to Battery Street!'"
echo " 8-concat_edges.py now outputs 'object-oriented programming with Python' and is PEP8 compliant"
